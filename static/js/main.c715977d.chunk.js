(this["webpackJsonpfleques-super-resolution"]=this["webpackJsonpfleques-super-resolution"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"appname":"Fleques Super Resolution","description":"Investigations on image super resolution using GANs","repo":"srgan-investigation","branch":"images","path":"images/","models":[{"name":"stock-cyclic","caption":"Stock Cyclic","version":1,"major":0,"minor":0}]}')},46:function(e,t,a){e.exports=a(99)},51:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(40),r=a.n(i),o=(a(51),a(4)),l=a(5),c=a(7),u=a(6),m=a(8),h=a(15),d=a(9),p=Object(d.a)(),g=a(45),f=function(e){var t=e.component,a=Object(g.a)(e,["component"]);return s.a.createElement(h.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("user")?s.a.createElement(t,e):s.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=(a(56),a(43)),b=a.n(v),E=a(23),O=a(2),y=(a(58),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={highlight:!1},a.fileInputRef=s.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(O.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(O.a)(a)),a.onDragOver=a.onDragOver.bind(Object(O.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(O.a)(a)),a.onDrop=a.onDrop.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({highlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({highlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({highlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"mx-auto Dropzone ".concat(this.state.highlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},s.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",accept:".xml",multiple:!0,onChange:this.onFilesAdded}),s.a.createElement("img",{alt:"upload",className:"Icon",src:"baseline-cloud_upload-24px.svg"}),s.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b"))}}]),t}(n.Component)),N=(a(59),a(44)),j=a.n(N);function k(e){var t,a=[],n={},s={},i=new j.a(e);function r(){return t.getCommit(n.commitSHA).then((function(e){n.treeSHA=e.data.tree.sha}))}function o(e){return t.createBlob(e.content).then((function(t){a.push({sha:t.data.sha,path:e.path,mode:"100644",type:"blob"})}))}function l(){return t.createTree(a,n.treeSHA).then((function(e){s.treeSHA=e.data.sha}))}function c(){return t.updateHead("heads/"+n.name,s.sha)}this.setRepo=function(e,a){return t=i.getRepo(e,a)},this.setBranch=function(e){if(!t)throw"Repository is not initialized";return t.listBranches().then((function(a){if(!a.data.find((function(t){return t.name===e})))return t.createBranch("master",e).then((function(){n.name=e}));n.name=e}))},this.pushFiles=function(e,a){if(!t)throw"Repository is not initialized";if(!n.hasOwnProperty("name"))throw"Branch is not set";return t.getRef("heads/"+n.name).then((function(e){n.commitSHA=e.data.object.sha})).then(r).then((function(){return function(e){for(var t=[],a=e.length,n=0;n<a;n++)t.push(o(e[n]));return Promise.all(t)}(a)})).then(l).then((function(){return function(e){return t.commit(n.commitSHA,s.treeSHA,e).then((function(e){s.sha=e.data.sha}))}(e)})).then(c).catch((function(e){console.error(e)}))}}var S=a(12),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).autoComplete=a.autoComplete.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"autoComplete",value:function(e){}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},s.a.createElement("label",{htmlFor:this.props.name},this.props.caption),s.a.createElement("input",{type:"text",className:"form-control",onInput:this.autoComplete,onChange:this.props.onChange,id:this.props.name,name:this.props.name,placeholder:this.props.placeholder}),s.a.createElement("span",{className:"muted small"},this.props.help))}}]),t}(n.Component),x=a(19),w=a(20),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1,gh_api:{},catalog:"",authorized:!1,user:{}},a.onFilesAdded=a.onFilesAdded.bind(Object(O.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(O.a)(a)),a.onPathChanged=a.onPathChanged.bind(Object(O.a)(a)),a.renderActions=a.renderActions.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("user");if(t){var a=new k({token:(t=JSON.parse(t)).token});a.setRepo(t.name,S.repo);var n=a.setBranch(S.branch);n.then((function(){e.setState({authorized:!0,user:t,gh_api:a})})),n.catch((function(a){e.setState({authorized:!1,user:t})}))}}},{key:"onFilesAdded",value:function(e){this.setState((function(t){return{files:t.files.concat(e)}}))}},{key:"onPathChanged",value:function(e){var t=e.target.value;"/"!==t[t.length-1]&&(t+="/"),"/"===t[0]&&(t=t.slice(1)),this.setState({catalog:t})}},{key:"uploadFiles",value:function(){var e,t,a,n,s,i=this;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:for(this.setState({uploadProgress:{},uploading:!0}),e=this.state.gh_api,t=[],a=function(e){var a=i.state.files[e].name;t.push(new Promise((function(t,n){var s=new FileReader;s.onload=function(){t({name:a,path:S.path+i.state.catalog+a,content:s.result})},s.addEventListener("progress",(function(e){if(e.lengthComputable){var t=Object(E.a)({},i.state.uploadProgress);t[a]={state:"pending",percentage:e.loaded/e.total*100},i.setState({uploadProgress:t})}})),s.readAsText(i.state.files[e],"UTF-8")})))},n=0;n<this.state.files.length;++n)a(n);try{s=this,Promise.all(t).then((function(t){var a=t.map((function(e){return e.name})),n=e.pushFiles("file uploads: "+a.join(", "),t),i=function(e){var t=Object(E.a)({},s.state.uploadProgress);t[e]={state:"done",percentage:100},s.setState({uploadProgress:t})};n.then((function(e){if(e&&200===e.status)for(var t=0;t<a.length;++t)setTimeout(i(a[t]),1e4*Math.random())})),n.catch((function(e){for(var t=0;t<a.length;++t){var n=Object(E.a)({},s.state.uploadProgress);n[a[t]]={state:"fail",percentage:100},s.setState({successfullUploaded:!1,uploadProgress:n})}}))})),this.setState({successfullUploaded:!0,uploading:!1})}catch(o){this.setState({successfullUploaded:!0,uploading:!1})}case 6:case"end":return r.stop()}}),null,this)}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];if(this.state.uploading||this.state.successfullUploaded)return s.a.createElement("span",{className:"d-inline pl-3"},s.a.createElement(x.a,{icon:w.a,className:t&&"done"===t.state?"text-secondary":"d-none"}),s.a.createElement(x.a,{icon:w.b,className:t&&"done"===t.state?"d-none":"text-warning fa-spin"}))}},{key:"renderActions",value:function(){var e=this;return this.state.successfullUploaded?s.a.createElement("button",{onClick:function(){return e.setState({files:[],successfullUploaded:!1})}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"):s.a.createElement("button",{disabled:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles,className:"px-5"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")}},{key:"render",value:function(){var e=this;return this.state.authorized?s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"col-12"},s.a.createElement("span",{className:"Title py-3"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432"),s.a.createElement("div",{className:"row pt-3"},s.a.createElement(C,{name:"auto-complete-catalogs",caption:"\u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0444\u0430\u0439\u043b\u043e\u0432",className:"col-12 px-0 border-bottom form-group text-left py-3 mb-3",help:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u043a\u0430\u043a\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b. e.g. vsuet/vosdux",placeholder:"",onChange:this.onPathChanged}),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-6"},s.a.createElement(y,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded}),s.a.createElement("div",{className:"col-12 text-center py-3"},this.renderActions())),s.a.createElement("div",{className:"col-12 col-md-4 col-lg-6"},s.a.createElement("div",{className:"row text-left"},this.state.files.map((function(t){return s.a.createElement("div",{key:t.name,className:"col-12 col-lg-6"},s.a.createElement("span",{className:""},t.name),e.renderProgress(t))}))))))):"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ...."}}]),t}(n.Component),A=a(18),D=function(e){return s.a.createElement("nav",{className:"navbar navbar-dark bg-primary fixed-top"+e.className},s.a.createElement(A.a,{className:"nav-item text-white",to:"/"},S.appname),s.a.createElement(A.a,{className:"nav-item text-white",to:"/test"},"Bring your image"))},I=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(D,{className:"mb-5"}),s.a.createElement("div",{className:"Page"},s.a.createElement("div",{className:"card mt-3 mt-md-4 p-3 col-10 col-md-9 col-lg-8 col-xl-7"},s.a.createElement(F,null))))}}]),t}(n.Component);var P=function(e){var t="image-block"+e.name.replace(/[^\w\s\_]/g,"").replace(/\s+| /g,"")+Math.round(1e3*Math.random());return s.a.createElement("div",{id:t,className:"col-12 invisible"},s.a.createElement("h6",null,e.name),s.a.createElement("img",{className:"img-thumbnail border-0 img-fluid  float-right",src:e.src,alt:"",onLoad:function(){!function(e){document.getElementById(e).classList.remove("invisible"),document.getElementById(e).classList.remove("d-none")}(t)},onError:function(){return function(e){document.getElementById(e).classList.contains("d-none")||(document.getElementById(e).classList+=" d-none")}(t)}}))},L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={active:a.props.start,interval:5e3,list:a.props.list},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateImage()}},{key:"componentDidUpdate",value:function(e){if(e.list!==this.props.list&&this.setState({list:this.props.list}),e.start!==this.props.start){var t=e.start;t>=this.state.list.length-1&&(t-=1),t<0&&(t=0),this.setState({active:t})}}},{key:"updateImage",value:function(){var e=this;return setInterval((function(){var t=e.state.active;t===e.state.list.length-1&&(t=-1),t+=1,e.setState({active:t})}),this.state.interval)}},{key:"showCarousel",value:function(){var e=this.state.list[this.state.active||0];console.log(this.state.active);var t=e.replace(".png","").replace(".jpg","").split("/").pop();return s.a.createElement(P,{name:t,src:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 px-0"},s.a.createElement("h4",{className:"col-12"},this.props.title),s.a.createElement("div",{className:"col-12 image-review px-0"},this.showCarousel()))}}]),t}(n.Component),B=function(e){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:e.name},e.caption),s.a.createElement("select",{className:"form-control",onChange:e.onChange,id:e.name,name:e.name,defaultValue:e.value},e.options.map((function(e,t){return s.a.createElement("option",{key:t,value:e.value},e.label)}))))},R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={images:{title:"Generate init images",list:"init",start:1}},a.onSelectChange=a.onSelectChange.bind(Object(O.a)(a)),a.onChangeIndex=a.onChangeIndex.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getImages",value:function(){for(var e=[],t=[],a="/srgan-investigation/samples/",n=10;n<1e3;n+=10)n<100&&t.push(a+"train_g_init_"+n+".png"),n>200&&e.push(a+"train_g_"+n+".png");return{images:e,init:t}}},{key:"onSelectChange",value:function(e){for(var t=this.state.images.title,a=0;a<e.target.options.length;++a)if(e.target.options[a].value===e.target.value){t=e.target.options[a].text;break}var n=this.state.images;n.list=e.target.value,n.title=t,this.setState({images:n})}},{key:"onChangeIndex",value:function(e){var t=e.target.value,a=this.state.images;a.start=Number.parseInt(t/10)-1,this.setState({images:a})}},{key:"render",value:function(){var e=this,t=this.getImages()[this.state.images.list];return s.a.createElement("div",{className:""},s.a.createElement(D,{className:"mb-5"}),s.a.createElement("div",{className:"container-fluid mt-3"},s.a.createElement("div",{className:"col-12 h3"},"Welcome to ",S.appname),s.a.createElement("div",{className:"col-12"},S.description),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement(B,{name:"select-view",caption:"Select image set",onChange:this.onSelectChange,value:this.state.images.list,options:[{label:"Generate init images",value:"init"},{label:"Generate-Adversarial images",value:"images"}]})),s.a.createElement("div",{className:"col-4 d-none"},s.a.createElement("input",{type:"number",step:"10",max:"990",min:"10",className:"form-control",onInput:function(t){return e.onChangeIndex(t)},placeholder:"10"})),s.a.createElement("div",{className:"col-12 px-0"},s.a.createElement(L,{list:t,start:this.state.images.start,title:this.state.images.title}))))))}}]),t}(s.a.Component),U=a(22),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={login:"",password:"",submitted:!1,user:{},error:!1},a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("user")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(U.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.login,s=a.password;this.setState({submitted:!0});var i={name:n,token:s},r=new k({token:i.token});r.setRepo(i.name,S.repo);var o=r.setBranch(S.branch);o.then((function(){sessionStorage.setItem("user",JSON.stringify(i)),t.setState({submitted:!0,user:i})})),o.catch((function(e){t.setState({error:!0})}))}},{key:"renderLoginForm",value:function(){var e=this.state,t=e.login,a=e.password,n=e.submitted,i=e.error;return s.a.createElement("div",{className:"container p-5"},s.a.createElement("form",{className:"row mt-5 p-md-5 bg-primary text-white max-w-600px mx-auto",onSubmit:this.handleSubmit},s.a.createElement("div",{className:i?"col-12 text-danger":"invisible col-12"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d"),s.a.createElement("div",{className:"form-group col-12"},s.a.createElement("label",{htmlFor:"login"},"\u043b\u043e\u0433\u0438\u043d"),s.a.createElement("input",{type:"text",name:"login",value:t,className:"form-control col-12 mb-3"+(n&&!t?" border-danger":""),onChange:this.handleChange}),n&&!t&&s.a.createElement("div",{className:"text-danger"},"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u043d\u0430\u044f \u043f\u043e\u043b\u044f")),s.a.createElement("div",{className:"form-group col-12"},s.a.createElement("label",{htmlFor:"password"},"\u043f\u0430\u0440\u043e\u043b\u044c"),s.a.createElement("input",{type:"password",name:"password",value:a,className:"form-control col-12 mb-3"+(n&&!a?" border-danger":""),onChange:this.handleChange}),n&&!a&&s.a.createElement("div",{className:"text-danger"},"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u043d\u0430\u044f \u043f\u043e\u043b\u044f")),s.a.createElement("div",{className:"form-group col-12"},s.a.createElement("button",{type:"submit",className:"form-control col-12 mb-3"},"\u0412\u043e\u0439\u0442\u0438 \xa0",n?s.a.createElement(x.a,{icon:w.c,className:i?"text-danger d-none":"d-none"}):"",n?s.a.createElement(x.a,{icon:w.b,className:i?"d-none":"text-success"}):""))))}},{key:"render",value:function(){return this.state.user.token?s.a.createElement(h.a,{to:{pathname:"/",state:{from:"/login"}}}):this.renderLoginForm()}}]),t}(s.a.Component),H=(a(97),a(98),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(h.c,{history:p},s.a.createElement(h.b,{exact:!0,strict:!0,path:"/login",component:_}),s.a.createElement(h.b,{exact:!0,strict:!0,path:"/",component:R}),s.a.createElement(f,{exact:!0,strict:!0,path:"/test",component:I}),s.a.createElement(h.b,{exact:!0,strict:!0,path:"/srgan-investigation/login",component:_}),s.a.createElement(h.b,{strict:!0,path:"/srgan-investigation",component:R}),s.a.createElement(f,{exact:!0,strict:!0,path:"/srgan-investigation/test",component:I}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.c715977d.chunk.js.map